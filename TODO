Improve TODO hum......


Declaration
Better error handling
pretty printing

